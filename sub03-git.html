<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>PROMPT PLATES | AI ë§ì¶¤í˜• ë°€í‚¤íŠ¸ ì„œë¹„ìŠ¤</title>
  <script src="./script.js"></script>
  <script src="./ai-chat-git.js"></script>  
  <style>
    a {
      text-decoration: none;
      color: inherit;
    }

      /* ë©”ë‰´ë°” ìŠ¤íƒ€ì¼ */
    .main-nav {
        position: fixed; top: 0; left: 0; width: 100%;
        height: 70px; background: rgba(255, 255, 255, 0.95);
        backdrop-filter: blur(10px); /* ìœ ë¦¬ì°½ íš¨ê³¼ */
        border-bottom: 1px solid #eee; z-index: 2000;
    }
    .nav-container {
        max-width: 1200px; margin: 0 auto; height: 100%;
        display: flex; align-items: center; justify-content: space-between; padding: 0 20px;
    }
    .logo { font-size: 22px; font-weight: 900; letter-spacing: -1px; }
    .logo span { color: #007AFF; }

    .nav-links { display: flex; list-style: none; gap: 30px; }
    .nav-links a { 
        text-decoration: none; color: #555; font-size: 15px; font-weight: 500;
        transition: color 0.3s;
    }
    .nav-links a:hover { color: #007AFF; }
    /* ì‚¬ìš©ì ìƒíƒœ í‘œì‹œ (AI ëŠë‚Œ) */
    .nav-auth { display: flex; align-items: center; gap: 20px; }
    .user-status { font-size: 13px; color: #666; display: flex; align-items: center; gap: 5px; }
    .user-status b { color: #333; }
    .user-status::before {
        content: ""; width: 8px; height: 8px; background: #4cd137; 
        border-radius: 50%; display: inline-block;
        animation: blink 1.5s infinite;
    }
     @keyframes blink {
        0% { opacity: 1; } 50% { opacity: 0.3; } 100% { opacity: 1; }
    }
      .login-btn {
        padding: 8px 18px; border-radius: 20px; border: 1px solid #007AFF;
        background: transparent; color: #007AFF; font-weight: bold; cursor: pointer;
    }
    #dashboard {
    padding: 80px 10%;
    background-color: #fcfcfc;
}

.dashboard-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 25px;
    margin-top: 30px;
}

.dash-card {
    background: #fff;
    padding: 25px;
    border-radius: 20px;
    box-shadow: 0 8px 20px rgba(0,0,0,0.05);
    transition: transform 0.3s ease;
}

.dash-card:hover {
    transform: translateY(-5px);
}

.dash-card h3 {
    margin-bottom: 20px;
    font-size: 1.2rem;
    color: #333;
    border-bottom: 2px solid #f1f1f1;
    padding-bottom: 10px;
}

/* ì¹¼ë¡œë¦¬ ê²Œì´ì§€ */
.gauge-bar {
    width: 100%;
    height: 12px;
    background: #eee;
    border-radius: 10px;
    overflow: hidden;
    margin: 15px 0;
}

.gauge-fill {
    height: 100%;
    background: linear-gradient(90deg, #ff6b6b, #ff9f43);
}

.gauge-value {
    font-size: 1.5rem;
    font-weight: bold;
    color: #ff6b6b;
}

/* íƒ„ë‹¨ì§€ í”„ë¡œê·¸ë ˆìŠ¤ */
.nutri-item {
    margin-bottom: 15px;
}

.progress {
    height: 8px;
    background: #f0f0f0;
    border-radius: 5px;
    margin: 5px 0;
}

.bar { height: 100%; border-radius: 5px; }
.carbs { background-color: #4dabf7; }   /* íŒŒë‘ */
.protein { background-color: #51cf66; } /* ì´ˆë¡ */
.fat { background-color: #fcc419; }     /* ë…¸ë‘ */

/* AI í”¼ë“œë°± */
.feedback-box {
    background: #fff5f5;
    padding: 15px;
    border-left: 4px solid #ff6b6b;
    font-style: italic;
    line-height: 1.6;
    margin-bottom: 20px;
}

.detail-btn {
    width: 100%;
    padding: 10px;
    border: 1px solid #ff6b6b;
    color: #ff6b6b;
    background: transparent;
    border-radius: 8px;
    cursor: pointer;
    font-weight: bold;
}

/* 2. ì±—ë´‡ ë²„íŠ¼ (ëŸ°ì²˜) */
.chat-launcher {
    position: fixed; 
    bottom: 30px; 
    right: 30px;
    width: 60px; 
    height: 60px;
    background-color: #007AFF; 
    border-radius: 50%;
    display: flex; 
    align-items: center; 
    justify-content: center;
    color: white; 
    font-size: 30px; 
    cursor: pointer;
    box-shadow: 0 4px 15px rgba(0,0,0,0.2);
    border: none; 
    z-index: 1000;
}

/* 3. ì±„íŒ…ì°½ ë³¸ì²´ */
.chat-window {
    position: fixed; 
    bottom: 100px; 
    right: 30px;
    width: 350px; 
    height: 500px;
    background: white; 
    border-radius: 20px;
    display: flex; 
    flex-direction: column;
    box-shadow: 0 10px 30px rgba(0,0,0,0.1);
    overflow: hidden; 
    z-index: 1000;
    display: none; /* ì²˜ìŒì—ëŠ” ìˆ¨ê²¨ë‘  */
}

/* 4. í—¤ë” ë¶€ë¶„ */
.chat-header {
    background-color: #007AFF; 
    color: white;
    padding: 20px; 
    text-align: center; 
    font-weight: bold;
}

/* 5. ë©”ì‹œì§€ ë¦¬ìŠ¤íŠ¸ ê³µê°„ */
.chat-messages {
    flex: 1; 
    padding: 20px; 
    overflow-y: auto;
    display: flex; 
    flex-direction: column; 
    gap: 15px;
    background-color: #ffffff;
}
/* ë§í’ì„  ê³µí†µ ìŠ¤íƒ€ì¼ */
.bubble { 
    padding: 10px 15px; 
    border-radius: 18px; 
    max-width: 75%; 
    font-size: 14px; 
    line-height: 1.4; 
}
        
/* AI ë©”ì‹œì§€ (ì™¼ìª½) */
.ai-bubble { 
    align-self: flex-start; 
    background-color: #f1f1f1; 
    color: #333; }
        
/* ì‚¬ìš©ì ë©”ì‹œì§€ (ì˜¤ë¥¸ìª½) */
.user-bubble { 
    align-self: flex-end; 
    background-color: #007AFF; 
    color: white; 
}

/* 6. í•˜ë‹¨ ì…ë ¥ì°½ */
.chat-input-area {
    padding: 15px; 
    border-top: 1px solid #eee;
    display: flex; 
    gap: 10px;
}
.chat-input-area input {
    flex: 1; 
    border: 1px solid #ddd; 
    padding: 10px;
    border-radius: 25px; 
    outline: none;
}
.chat-input-area button {
    background-color: #007AFF; 
    color: white; 
    border: none;
    padding: 0 15px; 
    border-radius: 20px; 
    cursor: pointer;
}
/*í‘¸í„°ì˜ì—­*/
.main-footer {
    background-color: #2c3e50;
    color: #ecf0f1;
    padding: 60px 10% 20px;
    font-size: 0.9rem;
}
.footer-container {
    display: grid;
    grid-template-columns: 1.5fr 1fr 1.5fr;
    gap: 50px;
    margin-bottom: 40px;
}
.footer-brand .logo {
    font-size: 1.5rem;
    font-weight: bold;
    margin-bottom: 15px;
}
.footer-brand .logo span {
    color: #ff6b6b;
}
.brand-slogan {
    color: #bdc3c7;
    margin-bottom: 20px;
}
.social-links a {
    color: #ecf0f1;
    text-decoration: none;
    margin-right: 15px;
    font-size: 0.8rem;
    border: 1px solid #555;
    padding: 5px 10px;
    border-radius: 5px;
    transition: 0.3s;
}
.social-links a:hover {
    background: #ff6b6b;
    border-color: #ff6b6b;
}
.footer-links h4, .footer-contact h4 {
    color: #fff;
    margin-bottom: 20px;
    font-size: 1.1rem;
}
.footer-links ul {
    list-style: none;
    padding: 0;
}
.footer-links ul li {
    margin-bottom: 10px;
}
.footer-links ul li a {
    color: #bdc3c7;
    text-decoration: none;
    transition: 0.2s;
}
.footer-links ul li a:hover {
    color: #ff6b6b;
}
.footer-contact p {
    margin-bottom: 10px;
    color: #bdc3c7;
}
/* í•˜ë‹¨ ë°” */
.footer-bottom {
    border-top: 1px solid #3e4f5f;
    padding-top: 20px;
    margin-top: 40px;
}
.bottom-content {
    display: flex;
    justify-content: space-between;
    align-items: center;
    color: #7f8c8d;
    font-size: 0.8rem;
}
.legal-links a {
    color: #7f8c8d;
    text-decoration: none;
    margin-left: 20px;
}
.legal-links b {
    color: #bdc3c7;
}
/* --- ì˜ì–‘ ë¶„ì„ í˜ì´ì§€(sub03) ë°˜ì‘í˜• ì½”ë“œ --- */

/* 1. íƒœë¸”ë¦¿ ë° ì¼ë°˜ ëª¨ë°”ì¼ (1024px ì´í•˜) */
@media screen and (max-width: 1024px) {
    .content-section { padding: 60px 20px; }
    .stat-grid { gap: 15px; }
}

/* 2. ëª¨ë°”ì¼ (768px ì´í•˜) */
@media screen and (max-width: 768px) {
    /* ë‚´ë¹„ê²Œì´ì…˜ ì •ë¦¬ */
    .nav-links, .nav-auth { display: none; }
    .nav-container { justify-content: center; }

    /* ëŒ€ì‹œë³´ë“œ ë°•ìŠ¤ ë‚´ë¶€ ê°„ê²© ì¡°ì • */
    .dashboard-box { padding: 30px 20px; }
    .section-title { font-size: 24px; margin-bottom: 30px; }

    /* ê±´ê°• ì§€í‘œ(í†µê³„) ê·¸ë¦¬ë“œ: 1ì—´ë¡œ ë³€ê²½ */
    .stat-grid {
        grid-template-columns: 1fr;
        gap: 15px;
    }

    .stat-item { padding: 25px; }
    .stat-item h4 { font-size: 32px; }

    /* í‘¸í„° ë ˆì´ì•„ì›ƒ ì„¸ë¡œ ì •ë ¬ */
    .footer-container {
        flex-direction: column;
        gap: 40px;
        text-align: center;
    }
    .social-links { justify-content: center; }
}

/* 3. ì†Œí˜• ëª¨ë°”ì¼ (480px ì´í•˜) */
@media screen and (max-width: 480px) {
    /* ì§„í–‰ë¥  ë°” ë†’ì´ ë° í…ìŠ¤íŠ¸ í¬ê¸° ìµœì í™” */
    .progress-bar { height: 12px; margin: 20px 0; }
    .analysis-text { font-size: 15px; line-height: 1.5; }

    /* ë°ì´í„° ì„íŒ©íŠ¸ ì„¹ì…˜ ì œëª© ì¶•ì†Œ */
    .data-impact-section h2 { font-size: 20px; }

    /* í•˜ë‹¨ ë²•ì  ê³ ì§€ ì •ë ¬ */
    .bottom-content {
        flex-direction: column;
        gap: 10px;
        text-align: center;
    }

    /* ì±—ë´‡ ë²„íŠ¼ ìœ„ì¹˜ ì¡°ì • */
    .chat-launcher { width: 50px; height: 50px; font-size: 20px; }
}

</style>
</head>
<body>
      <nav class="main-nav">
    <div class="nav-container">
        <div class="logo"><a href="./plates-index-git.html">PROMPT <span>PLATES</span></a></div>
        <ul class="nav-links">
            <li><a href="./sub01-git.html">ë°€í‚¤íŠ¸</a></li>
            <li><a href="./sub02-git.html">AI ì¶”ì²œì‹ë‹¨</a></li>
            <li><a href="./sub03-git.html">ì˜ì–‘ ë¶„ì„</a></li>
            <li><a href="./sub04-git.html">ê³ ê°í›„ê¸°</a></li>
            <li><a href="./sub05-git.html">ë¸Œëœë“œ ìŠ¤í† ë¦¬</a></li>
        </ul>
        <div class="nav-auth">
            <span class="user-status">â— <b>ì˜í•œë‹¤</b>ë‹˜ ë¶„ì„ì¤‘</span>
            <button class="login-btn">ë§ˆì´í˜ì´ì§€</button>
        </div>
    </div>
</nav>

<!--ì˜ì–‘ë¶„ì„-->
<section id="dashboard" class="section-container">
    <div class="section-header">
        <h2>ì‹¤ì‹œê°„ ì˜ì–‘ ë¶„ì„ ë¦¬í¬íŠ¸</h2>
        <p>ì˜¤ëŠ˜ <b>ì˜í•œë‹¤</b>ë‹˜ì´ ì„­ì·¨í•˜ì‹  ì˜ì–‘ ì„±ë¶„ì„ AIê°€ ì •ë°€ ë¶„ì„í–ˆìŠµë‹ˆë‹¤.</p>
    </div>

    <div class="dashboard-grid">
        <div class="dash-card calorie-card">
            <h3>ì˜¤ëŠ˜ì˜ ì¹¼ë¡œë¦¬</h3>
            <div class="gauge-container">
                <div class="gauge-value">1,540 / 2,100</div>
                <div class="gauge-bar">
                    <div class="gauge-fill" style="width: 73%;"></div>
                </div>
            </div>
            <p class="status-msg">ëª©í‘œ ì¹¼ë¡œë¦¬ê¹Œì§€ <b>560kcal</b> ë‚¨ì•˜ìŠµë‹ˆë‹¤.</p>
        </div>

        <div class="dash-card nutri-detail">
            <h3>ì£¼ìš” ì˜ì–‘ì†Œ ë°¸ëŸ°ìŠ¤</h3>
            <div class="nutri-item">
                <span>íƒ„ìˆ˜í™”ë¬¼ (Carbs)</span>
                <div class="progress"><div class="bar carbs" style="width: 60%;"></div></div>
                <span class="percent">60%</span>
            </div>
            <div class="nutri-item">
                <span>ë‹¨ë°±ì§ˆ (Protein)</span>
                <div class="progress"><div class="bar protein" style="width: 25%;"></div></div>
                <span class="percent">25%</span>
            </div>
            <div class="nutri-item">
                <span>ì§€ë°© (Fat)</span>
                <div class="progress"><div class="bar fat" style="width: 15%;"></div></div>
                <span class="percent">15%</span>
            </div>
        </div>

        <div class="dash-card ai-feedback">
            <h3>ğŸ¤– AI ì˜ì–‘ì‚¬ ì½”ë©˜íŠ¸</h3>
            <blockquote class="feedback-box">
                "í˜„ì¬ ë‹¨ë°±ì§ˆ ì„­ì·¨ëŸ‰ì´ ëª©í‘œ ëŒ€ë¹„ ë¶€ì¡±í•©ë‹ˆë‹¤. ì €ë… ì‹ë‹¨ìœ¼ë¡œëŠ” <b>ìˆ˜ë¹„ë“œ ë‹­ê°€ìŠ´ì‚´ ë°€í‚¤íŠ¸</b>ë¥¼ ì¶”ì²œë“œë ¤ìš”. íƒ„ìˆ˜í™”ë¬¼ ë¹„ìœ¨ì€ ì•„ì£¼ ì´ìƒì ì…ë‹ˆë‹¤!"
            </blockquote>
            <button class="detail-btn" onclick="location.href='#recommend'">ì¶”ì²œ ì‹ë‹¨ ë³´ëŸ¬ê°€ê¸°</button>
        </div>
    </div>
</section>

  <!--í‘¸í„°-->
   <footer class="main-footer">
    <div class="footer-container">
        <div class="footer-brand">
            <div class="logo">PROMPT <span>PLATES</span></div>
            <p class="brand-slogan">AIê°€ ì„¤ê³„í•˜ê³  ìì—°ì´ ì±„ìš´ ë§ì¶¤í˜• ì‹ë‹¨</p>
            <div class="social-links">
                <a href="#">Instagram</a>
                <a href="#">YouTube</a>
                <a href="#">Blog</a>
            </div>
        </div>

        <div class="footer-links">
            <h4>Service</h4>
            <ul>
                <li><a href="#recommend">AI ì¶”ì²œì‹ë‹¨</a></li>
                <li><a href="#dashboard">ì˜ì–‘ ë¶„ì„ ë¦¬í¬íŠ¸</a></li>
                <li><a href="#review">ê³ ê° í›„ê¸°</a></li>
                <li><a href="#brand">ë¸Œëœë“œ ìŠ¤í† ë¦¬</a></li>
            </ul>
        </div>

        <div class="footer-contact">
            <h4>Contact</h4>
            <p>ê³ ê°ì„¼í„°: 1588-0000 (í‰ì¼ 09:00~18:00)</p>
            <p>ì´ë©”ì¼: prompt@prompt.com</p>
            <p>ì£¼ì†Œ: ëŒ€êµ¬ ê´‘ì—­ì‹œ ë‹¬ì„œêµ¬ ë‹¬ì„œë™ 123 </p>
        </div>
    </div>

    <div class="footer-bottom">
        <div class="bottom-content">
          <p>Designed by #Value_Creator ì´ì„ ê²½<br>
            Â© 2026 PROMPT PLATES. All rights reserved.
          </p>         
          <br>
          <p>
            â€»ë³¸ í”„ë¡œì íŠ¸ì˜ AI ê¸°ëŠ¥ì€ ìƒìš© AI API í™œìš©í•œ ì›¹ ì„œë¹„ìŠ¤ êµ¬í˜„ êµìœ¡ ëª©ì ì˜ í”„ë¡œí† íƒ€ì…ì´ë©°, ì‹¤ì œ ì˜ë£ŒÂ·êµìœ¡ íŒë‹¨ì„ ëŒ€ì²´í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
          </p>
          <div class="legal-links">
            <a href="#">ì´ìš©ì•½ê´€</a>
            <a href="#"><b>ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨</b></a>
          </div>
        </div>
    </div>
</footer>

 <!--ì±—ë´‡-->
    
    <button class="chat-launcher" onclick="toggleChat()">ğŸ’¬</button>

    <div class="chat-window" id="chatWindow">
        <div class="chat-header">ë°€í‚¤íŠ¸ AI ìƒë‹´ì‚¬</div>
        
        <div class="chat-messages" id="chatMessages">
            <div class="bubble ai-bubble">ì•ˆë…•í•˜ì„¸ìš”! ë‹¹ì‹ ì˜ ê±´ê°• ë°ì´í„°ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë”± ë§ëŠ” ë°€í‚¤íŠ¸ë¥¼ ì¶”ì²œí•´ ë“œë¦´ê²Œìš”. ê¶ê¸ˆí•œ ê²Œ ìˆìœ¼ì‹ ê°€ìš”?</div>
        </div>

        <div class="chat-input-area">
            <input type="text" id="userInput" placeholder="ë©”ì‹œì§€ë¥¼ ì…ë ¥í•˜ì„¸ìš”...">
            <button onclick="sendMessage()">ì „ì†¡</button>
        </div>
    </div>

    <script>
    const GEMINI_API_KEY = "YOUR_API_KEY"; 

    // í˜ì´ì§€ ë¡œë“œ ì‹œ AI ì˜ì–‘ ë¶„ì„ ì‹¤í–‰
    window.onload = async function() {
        await updateNutritionReport();
    };

    async function updateNutritionReport() {
        // ì‹¤ì œë¡œëŠ” ì‚¬ìš©ìì˜ ìµœê·¼ ì‹ì‚¬ ê¸°ë¡ ë°ì´í„°ë¥¼ ê°€ì ¸ì™€ì•¼ í•©ë‹ˆë‹¤.
        const userMealData = "ì•„ì¹¨: ì‚¬ê³¼, ì ì‹¬: ë‹­ê°€ìŠ´ì‚´ ìƒëŸ¬ë“œ"; 

        try {
            // [ì±—ë´‡ ì„±ê³µ ë¡œì§ í™œìš©] ëª¨ë¸ ìë™ íƒìƒ‰ ë° í˜¸ì¶œ
            const listUrl = `https://generativelanguage.googleapis.com/v1beta/models?key=${GEMINI_API_KEY}`;
            const listRes = await fetch(listUrl);
            const listData = await listRes.json();
            const availableModel = listData.models.find(m => m.supportedGenerationMethods.includes('generateContent'));

            const url = `https://generativelanguage.googleapis.com/v1beta/${availableModel.name}:generateContent?key=${GEMINI_API_KEY}`;

            // AIì—ê²Œ ìˆ˜ì¹˜ ë°ì´í„°ë¥¼ JSON í˜•ì‹ìœ¼ë¡œ ë‹¬ë¼ê³  ìš”ì²­ (í•µì‹¬ í”„ë¡¬í”„íŠ¸)
            const response = await fetch(url, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({
                    contents: [{
                        parts: [{ text: `ì‚¬ìš©ìì˜ ì‹ì‚¬("${userMealData}")ë¥¼ ë¶„ì„í•´ì„œ ë‹¤ìŒ JSON í˜•ì‹ìœ¼ë¡œë§Œ ë‹µí•´ì¤˜: 
                                         {"kcal": ìˆ«ì, "carbs": ìˆ«ì, "protein": ìˆ«ì, "fat": ìˆ«ì, "comment": "í•œì¤„í‰"}` }]
                    }]
                })
            });

            const result = await response.json();
            const rawText = result.candidates[0].content.parts[0].text;
            const data = JSON.parse(rawText); // AIì˜ ì‘ë‹µì„ ë°ì´í„°ë¡œ ë³€í™˜

            // --- [UI ì—…ë°ì´íŠ¸] ---
            // 1. ì¹¼ë¡œë¦¬ ì—…ë°ì´íŠ¸
            document.querySelector('.gauge-value').innerText = `${data.kcal.toLocaleString()} / 2,100`;
            document.querySelector('.gauge-fill').style.width = `${(data.kcal / 2100) * 100}%`;

            // 2. íƒ„ë‹¨ì§€ ê·¸ë˜í”„ ì—…ë°ì´íŠ¸
            document.querySelector('.bar.carbs').style.width = `${data.carbs}%`;
            document.querySelector('.bar.protein').style.width = `${data.protein}%`;
            document.querySelector('.bar.fat').style.width = `${data.fat}%`;

            // 3. AI ì½”ë©˜íŠ¸ ì—…ë°ì´íŠ¸
            document.querySelector('.feedback-box').innerText = `"${data.comment}"`;

        } catch (error) {
            console.error("ì˜ì–‘ ë¶„ì„ ë¡œë“œ ì‹¤íŒ¨:", error);
        }
    }
</script>
</body>
</html>